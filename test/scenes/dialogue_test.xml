<?xml version="1.0" encoding="UTF-8"?>
<scene name="대화_시스템_테스트">
    <!-- 배경 설정 -->
    <background path="res://assets/backgrounds/classroom.jpg" transition="fade" duration="2.0"/>

    <!-- 캐릭터 등장 -->
    <action type="appear" character="철수" duration="1.0"/>
    <action type="appear" character="영희" duration="1.0"/>

    <!-- 일반 대화 테스트 -->
    <dialogue>
        <message speaker="나레이터">대화 시스템 테스트를 시작합니다.</message>
        <message speaker="나레이터">텍스트 속도와 자동 진행 기능을 조절할 수 있습니다.</message>
    </dialogue>

    <!-- 표정 변경과 함께하는 대화 -->
    <action type="emotion" character="철수" name="happy"/>
    <dialogue>
        <message speaker="철수">안녕하세요! 저는 철수입니다.</message>
        <message speaker="철수">대화창의 텍스트는 타이핑 효과와 함께 표시됩니다.</message>
    </dialogue>

    <action type="emotion" character="영희" name="happy"/>
    <dialogue>
        <message speaker="영희">저는 영희예요. 반갑습니다!</message>
        <message speaker="영희">우측 상단의 버튼으로 다양한 기능을 사용할 수 있어요.</message>
    </dialogue>

    <!-- 선택지 테스트 -->
    <dialogue>
        <message speaker="나레이터">이제 선택지를 테스트해보겠습니다.</message>
        <choice text="어떤 기능을 확인해볼까요?">
            <option id="auto" text="자동 진행 기능">
                <message speaker="나레이터">자동 진행 기능은 우측 상단의 '자동' 버튼으로 활성화할 수 있습니다.</message>
                <message speaker="나레이터">대화가 자동으로 넘어가며, 속도는 조절 가능합니다.</message>
            </option>
            <option id="skip" text="스킵 기능">
                <message speaker="나레이터">스킵 기능은 대화를 빠르게 넘길 수 있게 해줍니다.</message>
                <message speaker="나레이터">이미 읽은 대화를 빠르게 넘어갈 때 유용합니다.</message>
            </option>
            <option id="history" text="대화 이력 기능">
                <message speaker="나레이터">대화 이력 기능으로 지난 대화를 다시 확인할 수 있습니다.</message>
                <message speaker="나레이터">우측 상단의 '이력' 버튼을 눌러보세요.</message>
            </option>
        </choice>
    </dialogue>

    <!-- 음성 재생과 함께하는 대화 -->
    <action type="speak" character="철수" voice="greeting"/>
    <dialogue>
        <message speaker="철수">음성이 재생되는 동안 캐릭터가 말하는 것처럼 보입니다.</message>
    </dialogue>
    <action type="stop" character="철수"/>

    <action type="speak" character="영희" voice="hello"/>
    <dialogue>
        <message speaker="영희">캐릭터가 말할 때는 자동으로 애니메이션이 재생됩니다.</message>
    </dialogue>
    <action type="stop" character="영희"/>

    <!-- 마무리 -->
    <dialogue>
        <message speaker="나레이터">이것으로 대화 시스템 테스트를 마치겠습니다.</message>
        <message speaker="나레이터">모든 기능이 정상적으로 작동하는 것을 확인했습니다.</message>
    </dialogue>

    <!-- 캐릭터 퇴장 -->
    <action type="disappear" character="철수" duration="1.0"/>
    <action type="disappear" character="영희" duration="1.0"/>
</scene>